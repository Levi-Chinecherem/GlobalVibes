{% extends 'base.html' %}

{% block content %}
  <div class="flex justify-center items-center h-screen">
    <div class="flex flex-col mx-auto max-w-md p-6 rounded-md sm:p-10 dark:bg-gray-600 dark:text-gray-100">
      <div class="mb-8 text-center">
        <h1 class="my-3 text-4xl font-bold">Reset Password</h1>
      </div>
      <form id="resetForm" method="post" action="{% url 'password_reset' %}" class="space-y-4">
        {% csrf_token %}
        <div>
          <label for="email" class="block mb-2 text-sm">Email address</label>
          <input type="email" name="email" id="email" placeholder="leroy@gmail.com" class="w-full px-3 py-2 border rounded-md dark:border-gray-700 dark:bg-gray-700 dark:text-gray-100">
        </div>
        <button type="button" class="w-full px-8 py-3 font-semibold rounded-md dark:bg-red-400 hover:bg-red-700 dark:text-gray-100" onclick="showLoader(this)">Reset Password</button>
      </form>
      <div id="loader" class="hidden mt-4 mx-auto"></div>
    </div>
  </div>

{% endblock %}

{% block scripts %}
  <script>
    function showLoader(button) {
      button.disabled = true; // Disable the button
      document.getElementById('loader').innerHTML = '<div class="loader"></div>';
      document.getElementById('resetForm').submit();
    }
  </script>
{% endblock %}
